<script type="text/javascript">
$('button#next').on('click', function(e){
  e.preventDefault()
  var assessment = parseInt($(this).attr('data-id')) + 1
  // debugger
  var getNext = $.get("/assessment/"+ assessment  + ".json", function(data){
      $('div.change_assessment_to_render p').text(JSON.stringify(data))
      // debugger
      $('h1#assessment_name').html(data.name)
      $('h4 a#assessment_by').text(data.user.name)
      $('button#next').attr('data-id', data.id)
  });
  // getNext.done(function(data0
  // });
  getNext.error(function(){
    alert("Woah there looks like you're at the last one already!")
  });
});

$('button#previous').on('click', function(e){
  e.preventDefault()
  var assessment = parseInt($(this).attr('data-id')) - 1
  // debugger
  var getNext = $.get("/assessment/"+ assessment  + ".json", function(data){
      $('div.change_assessment_to_render p').text(JSON.stringify(data))
      // debugger
      $('h1#assessment_name').html(data.name)
      $('h4 a#assessment_by').text(data.user.name)
      $('h4 a').attr('data-link', data.link)
      $('button#previous').attr('data-id', data.id)
  });
  // getNext.done(function(data0
  // });
  getNext.error(function(){
    alert("Woah there looks like you're at the first one already!")
  });
});
</script>


<div class="change_assessment_to_render">
  <%= content_tag :p %>
  <% json_hash = nil%>
</div>

<%= render partial: 'show', local: json_hash || @assessment %>
